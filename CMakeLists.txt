CMAKE_MINIMUM_REQUIRED(VERSION 2.8.8)

INCLUDE($ENV{HOME}/.config.cmake)

PROJECT(nebula_gfx)

SET(nebula_gfx_STATIC TRUE)

FIND_PACKAGE(glfw)
#FIND_PACKAGE(galaxy_std_shared)
#FIND_PACKAGE(galaxy_log_shared)
#FIND_PACKAGE(galaxy_console_shared)
#FIND_PACKAGE(nebula_core_shared)
FIND_PACKAGE(Galaxy COMPONENTS
	std
	log
	console
	REQUIRED)
FIND_PACKAGE(Nebula COMPONENTS
	core
	REQUIRED)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g -D_DEBUG -std=c++0x")

include_directories("/usr/include/freetype2")
include_directories("./maze/include")
include_directories("./Control-System/include")
include_directories("./glm")
#include_directories(${physx_INCLUDE_DIR})

link_directories("./maze/Debug")
link_directories("./Control-System/Debug")

ADD_DEFINITIONS("-D_DEBUG -DGAL_NET_USE_BOOST -DGLM_FORCE_RADIANS")

# custom include extensions
set(include_extensions obj)

SET(GRU_VERSION 0.1.1)

FIND_PACKAGE(CMakeHelper)

set(Boost_USE_STATIC_LIBS OFF)
set(Boost_USE_STATIC_RUNTIME OFF)
add_definitions(-DBOOST_ALL_DYN_LINK)

FIND_PACKAGE(Boost 1.55 COMPONENTS
	program_options
	serialization
	log
	system
	thread
	REQUIRED)


SET(libs ${libs}
	${PROJECT_NAME}
	${Nebula_LIBRARIES}
	maze
	${Galaxy_LIBRARIES}
	${Boost_LIBRARIES}
	glfw
	GL
	GLU
	GLEW
	freetype
	png
	rt
	pthread
	X11
	Xrandr
	Xi
	Xcursor
	)

MESSAGE(STATUS "CMAKE_BUILD_TYPE ${CMAKE_BUILD_TYPE}")


# common methods for static library
# =================================

cmh_library()

add_subdirectory(test)


